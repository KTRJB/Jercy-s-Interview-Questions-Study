
꼬리 질문
- 메모리 경고(Memory Warning)가 발생하면 어떤 조치를 취해야 하나요?
- 최적화 방안에 대해 생각해보신게 있나요?

> 먼저 메모리 제약 요인으로는 디바이스 종류, OS버전, 다중 작업에 제한이 있고,
> 앱 메모리 제한으로는 기본 제한, 응답성 유지, 메모리 최적화가 있습니다.


## 메모리 제약

### 1. 디바이스 종류
최신 모델일수록 메모리가 더 크고, 구형 모델은 상대적으로 적은 메모리를 가지고 있습니다.

### 2. OS버전
iOS의 업데이트에 따라 메모리 관리 방식이 변화할 수 있습니다. 최신 버전은 메모리 최적화를 더 잘 지원합니다.

### 3. 다중 작업
iOS는 여러 앱을 동시에 실행할 수 있지만, 각 앱은 시스템 자원(메모리, CPU 등)을 공유하게 됩니다.

## 앱 메모리 제한

### 1. 기본 제한
일반적으로 앱은 150MB에서 2GB까지 메모리를 사용할 수 있으며, 이는 디바이스의 종류와 상태에 따라 달라질 수 있습니다.

### 2. 응답성 유지
앱이 메모리 한계를 초과할 경우, 시스템은 "메모리 경고"를 보내고, 이 경고를 처리하지 않으면 앱이 종료될 수 있습니다.

### 3. 메모리 최적화
앱에서는 비동기적 데이터 로딩, 이미지 및 캐시 관리, 사용하지 않은 객체 해제 등을 통해 메모리 사용을 최적화해야 합니다.


## 최적화 방안에 대해 생각해보신게 있나요?

데이터를 효율적으로 관리하는 것이 중요합니다. 예를 들어, 대용량 이미지를 처리할 때는 이미지를 압축하거나 필요한 경우에만 메모리에 로드하여 메모리 사용량을 줄일 수 있습니다. 그리고 이미지 캐싱을 통해 이미지를 메모리에 저장하고, 필요할 떄 빠르게 접근할 수 있도록 구현할 수 있습니다. 단 압축과 푸는 작업을 반복하면 CPU자원의 소모가 있을 수도 있고, 너무 많은 데이터를 메모리에 저장한다면 메모리 경고가 발생해 앱이 강제종료가 될 수 있어 주의해야 합니다.
불필요한 작업을 안하도록 하는 것이 좋습니다. 예를 들어 먼저 로컬에 저장된 내용을 보여주고, 그 이후에 업데이트 된 내용에 대해서만 데이터를 요청한다면, 불필요한 네트워크 트래픽을 줄일 수 있습니다.


## 메모리 경고(Memory Warning)가 발생하면 어떤 조치를 취해야 하나요?

앱이 한계를 초과한 경우 메모리 경고(`UIApplication.didReceiveMemoryWarningNotification`)를 호출하게 됩니다. 그 이후에도 계속해서 메모리가 사용된다면 앱이 종료될 수 있으므로 조치가 필요합니다.

일반적으로 대응하는 작업은 캐시 정리 입니다. 이미지 캐시나 데이터 캐시를 빠르게 불러오기 위해 메모리 상에 저장하고 사용하는 경우 메모리 정리가 필요합니다. 일부 라이브러리(Kingfisher)에서도 메모리 캐시를 관리하므로 캐시를 비우도록 호출해야합니다.
알고
nCall("BUBI_NFC", "goToActivity", {"menu":"MAIN"})
